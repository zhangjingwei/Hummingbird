(function(window){var OldConsole={};for(var method in console){(function(m){OldConsole[m]=console[m];console[m]=function(){if(["debug","log","info","warn","error","dir"].indexOf(m)!==-1){for(var i=0;i<ConsoleJs._els.length;++i){var cEl=ConsoleJs._els[i],htmlToSet="",lineSeparator="<br />";if(cEl.tagName==="PRE"){lineSeparator="\n"}var nSpan=document.createElement("span");nSpan.className+=m;for(var i=0;i<arguments.length;++i){htmlToSet+=JSON.stringify(arguments[i],null,m==="dir"?4:undefined)+" "}htmlToSet+=lineSeparator;if(nSpan.innerText){nSpan.innerText=htmlToSet}else{nSpan.textContent=htmlToSet}cEl.appendChild(nSpan)}}OldConsole[m].apply(console,arguments)}})(method)}var ConsoleJs={init:function(options){if(!options||options.constructor!==Object){options={}}if(!options.selector){throw new Error("options.selector is required")}var newEls=document.querySelectorAll(options.selector);for(var i=0;i<newEls.length;++i){ConsoleJs._els.push(newEls[i])}if(options.input){$(options.input).focus().on("keydown",function(e){if(e.keyCode===38&&e.ctrlKey){$(this).val(ConsoleJs.history.back().command);return}if(e.keyCode===40&&e.ctrlKey){$(this).val(ConsoleJs.history.next().command);return}if(e.keyCode!==13){return}if(e.shiftKey){return}ConsoleJs._history.push({command:$(this).val(),date:new Date});ConsoleJs._current=ConsoleJs._history.length;try{console.log(eval($(this).val()))}catch(e){console.error(e.message)}$(this).val("");return false})}},history:{back:function(){return ConsoleJs._history[--ConsoleJs._current]},next:function(){return ConsoleJs._history[++ConsoleJs._current]}},_els:[],_history:[],_current:-1};window.ConsoleJs=ConsoleJs})(window);